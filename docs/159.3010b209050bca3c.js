"use strict";(self.webpackChunkfood_App=self.webpackChunkfood_App||[]).push([[159],{5159:(F,d,i)=>{i.r(d),i.d(d,{UsersModule:()=>R});var f=i(6839),l=i(6814),h=i(3403),c=i(7700),e=i(5879);let Z=(()=>{class s{constructor(t,o){this.dialogRef=t,this.data=o,this.imgUrl="https://upskilling-egypt.com:3006/",this.emptyImg="../../../../../assets/images/dummy-profile-pic-300x300-1.png"}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(c.so),e.Y36(c.WI))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-view-user"]],decls:33,vars:6,consts:[[1,"view","p-2"],[1,"d-flex","justify-content-between","m-2"],["src","../../.././../../assets/images/4 4.svg","alt","","srcset","",1,"w-25"],["role","button",1,"close",3,"click"],[1,"fa-solid","fa-xmark-circle","fa-2x"],[1,"container","py-5"],[1,"row"],[1,"col-md-6"],[1,"user-img","rounded-3"],["alt","user-image",1,"w-100","rounded-3",3,"src"],[1,"col-md-6","d-flex","align-items-center"],[1,"user-caption"],[1,"pb-2"]],template:function(o,n){1&o&&(e.TgZ(0,"section",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"a",3),e.NdJ("click",function(){return n.onNoClick()}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._UZ(9,"img",9),e.qZA()(),e.TgZ(10,"div",10)(11,"div",11)(12,"ul")(13,"li",12),e._uU(14,"UserName: "),e.TgZ(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"li",12),e._uU(18,"Email: "),e.TgZ(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"li",12),e._uU(22,"Role: "),e.TgZ(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"li",12),e._uU(26,"Country: "),e.TgZ(27,"span"),e._uU(28),e.qZA()(),e.TgZ(29,"li",12),e._uU(30,"Phone Number: "),e.TgZ(31,"span"),e._uU(32),e.qZA()()()()()()()()),2&o&&(e.xp6(9),e.Q6J("src",n.data.imagePath?n.imgUrl+n.data.imagePath:n.emptyImg,e.LSH),e.xp6(7),e.Oqu(n.data.userName),e.xp6(4),e.Oqu(n.data.email),e.xp6(4),e.Oqu(n.data.group.name),e.xp6(4),e.Oqu(n.data.country),e.xp6(4),e.Oqu(n.data.phoneNumber))},styles:[".view[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18%!important}.view[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#1f9b35;font-size:17px;font-weight:600}.view[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f263e}"]})}return s})();var U=i(5061),_=i(9862);let T=(()=>{class s{constructor(t){this._HttpClient=t}getAllUsers(t){return this._HttpClient.get("Users",{params:t})}onDeleteUsers(t){return this._HttpClient.delete(`Users/${t}`)}static#e=this.\u0275fac=function(o){return new(o||s)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var C=i(7302),v=i(4400),A=i(2425),g=i(6311),y=i(617),b=i(2296),x=i(2032),u=i(9157),m=i(6223),M=i(3365),O=i(8525),q=i(3680);let P=(()=>{class s{transform(t,o=10){return t?t.length>o?`${t.slice(0,o)}...`:t:""}static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275pipe=e.Yjl({name:"trimEmail",type:s,pure:!0})}return s})(),D=(()=>{class s{transform(t,o=8){return t?t.length>o?`${t.slice(0,o)}...`:t:""}static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275pipe=e.Yjl({name:"trimDate",type:s,pure:!0})}return s})();function N(s,p){if(1&s){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.searchValue="",e.KtG(n.getUsersData())}),e.TgZ(1,"mat-icon",5),e._uU(2,"close"),e.qZA()()}}function S(s,p){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td",36),e._uU(2),e.qZA(),e.TgZ(3,"td",5),e._UZ(4,"img",37),e.qZA(),e.TgZ(5,"td",36),e._uU(6),e.ALo(7,"trimEmail"),e.qZA(),e.TgZ(8,"td",36),e._uU(9),e.qZA(),e.TgZ(10,"td",36),e._uU(11),e.qZA(),e.TgZ(12,"td",36),e._uU(13),e.qZA(),e.TgZ(14,"td",36),e._uU(15),e.ALo(16,"trimDate"),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td",38)(19,"button",39)(20,"mat-icon"),e._uU(21,"more_horiz"),e.qZA()(),e.TgZ(22,"mat-menu",40,41)(24,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openViewUserDialog(a))}),e.TgZ(25,"mat-icon"),e._uU(26,"visibility"),e.qZA(),e.TgZ(27,"span"),e._uU(28,"View"),e.qZA()(),e.TgZ(29,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openDeleteDialog(a))}),e.TgZ(30,"mat-icon"),e._uU(31,"delete"),e.qZA(),e.TgZ(32,"span"),e._uU(33,"Delete"),e.qZA()()()()()}if(2&s){const t=p.$implicit,o=e.MAs(23),n=e.oxw();e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Q6J("src",t.imagePath?n.imgUrl+t.imagePath:n.emptyImg,e.LSH),e.xp6(2),e.Oqu(e.lcZ(7,8,t.email)),e.xp6(3),e.Oqu(t.phoneNumber),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.group.name),e.xp6(2),e.Oqu(e.lcZ(16,10,e.xi3(17,12,t.creationDate,"dd-MM-yyyy , hh:mm a"))),e.xp6(4),e.Q6J("matMenuTriggerFor",o)}}function w(s,p){1&s&&(e.TgZ(0,"div",43)(1,"div",44),e._UZ(2,"img",45),e.TgZ(3,"h3"),e._uU(4,"No Data!"),e.qZA()()())}const I=function(){return[4,8,16,20]},J=[{path:"",component:(()=>{class s{constructor(t,o,n,a,r){this._UsersService=t,this._CategoryService=o,this._RecipeService=n,this.dialog=a,this._ToastrService=r,this.imgUrl="https://upskilling-egypt.com:3006/",this.emptyImg="../../../assets/images/dummy-profile-pic-300x300-1.png",this.pageSize=10,this.pageNumber=1,this.categoryItem="",this.listTags=[],this.listCategories=[],this.searchValue="",this.roleIds=[],this.paramsKey="",this.getUsersData(),this.getTags(),this.getAllCategories()}getUsersData(){this._UsersService.getAllUsers({[this.paramsKey]:this.searchValue,groups:this.roleIds,pageSize:this.pageSize,pageNumber:this.pageNumber}).subscribe({next:o=>{this.listData=o}})}openViewUserDialog(t){console.log(t),this.dialog.open(Z,{data:t,width:"700px"}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),console.log(n),n&&this.onDeleteItem(n)})}openDeleteDialog(t){console.log(t),this.dialog.open(U.T,{data:t}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),console.log(n),n&&this.onDeleteItem(n.id)})}onDeleteItem(t){this._UsersService.onDeleteUsers(t).subscribe({next:o=>{console.log(o)},error:o=>{this._ToastrService.error(o.error.message,"Notify That")},complete:()=>{this._ToastrService.success("User deleted successfully","Done!"),this.getUsersData()}})}addCategory(t){this._RecipeService.onAddRecipes(t).subscribe({next:o=>{console.log(o)},error:()=>{},complete:()=>{this.getUsersData()}})}handlePageEvent(t){this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getUsersData()}getTags(){this._RecipeService.getAllTags().subscribe({next:t=>{this.listTags=t}})}getAllCategories(){this._CategoryService.getCategories(1e4,1).subscribe({next:t=>{this.listCategories=t.data}})}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(T),e.Y36(C.H),e.Y36(v.j),e.Y36(c.uw),e.Y36(A._W))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-users"]],decls:78,vars:11,consts:[[1,"categories"],[1,"page-title","px-3"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-8"],[1,""],[1,"col-md-4","text-end"],[1,"users-img"],["src","../../../assets/images/Group 48102127.svg","alt","",1,"w-50"],[1,"mt-4","table-caption"],[1,"text-start","pb-4","ps-4"],[1,"h4","mb-0"],[1,"row"],[1,"col-md-2"],["appearance","outline",1,"mdc-text-field--outlined","w-100","mb-3","px-0"],[1,"labelIn"],[3,"ngModel","ngModelChange","selectionChange"],["value","userName"],["value","email"],["value","country"],[1,"col-md-5"],["appearance","outline",1,"w-100","mdc-text-field--outlined","mb-3","px-0"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["appearance","outline",1,"mdc-text-field--outlined","mb-3","px-0"],["multiple","",3,"ngModel","ngModelChange","selectionChange"],["value","0"],["value","1"],["value","2"],[1,"table","table-hover","table-bordered","text-center","border","border-1","shadow"],[1,"py-3"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["aria-label","Select page",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["paginator",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"pt-5"],["alt","",1,"recipeImg","rounded-circle",3,"src"],[1,"pt-4"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"menu-box","rounded-4"],["menu","matMenu"],["mat-menu-item","",1,"menu-icons","px-5",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],[1,"w-50","vh-50","text-center"],["src","../../../assets/images/delete-img.svg","alt","",1,"w-50"]],template:function(o,n){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),e._uU(7,"Users "),e.TgZ(8,"span"),e._uU(9,"List"),e.qZA()(),e.TgZ(10,"p"),e._uU(11,"You can now add your items that any user can order it from"),e._UZ(12,"br"),e._uU(13," the Application and you can edit"),e.qZA()()(),e.TgZ(14,"div",6)(15,"div",7),e._UZ(16,"img",8),e.qZA()()()()(),e.TgZ(17,"div",9)(18,"div",10)(19,"div",5)(20,"h2",11),e._uU(21,"User Table Details"),e.qZA(),e.TgZ(22,"p"),e._uU(23,"You can check all details"),e.qZA()()(),e.TgZ(24,"div",5)(25,"div",2)(26,"div",12)(27,"div",13)(28,"mat-form-field",14)(29,"mat-label",15),e._uU(30,"Search By"),e.qZA(),e.TgZ(31,"mat-select",16),e.NdJ("ngModelChange",function(r){return n.paramsKey=r})("selectionChange",function(){return n.getUsersData()}),e.TgZ(32,"mat-option",17),e._uU(33,"Name"),e.qZA(),e.TgZ(34,"mat-option",18),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"mat-option",19),e._uU(37,"Country"),e.qZA()()()(),e.TgZ(38,"div",20)(39,"mat-form-field",21)(40,"mat-label",15),e._uU(41,"Search here..."),e.qZA(),e.TgZ(42,"input",22),e.NdJ("ngModelChange",function(r){return n.searchValue=r})("keyup.enter",function(){return n.getUsersData()}),e.qZA(),e.YNc(43,N,3,0,"button",23),e.qZA()(),e.TgZ(44,"div",13)(45,"mat-form-field",24)(46,"mat-label",15),e._uU(47,"Role"),e.qZA(),e.TgZ(48,"mat-select",25),e.NdJ("ngModelChange",function(r){return n.roleIds=r})("selectionChange",function(){return n.getUsersData()}),e.TgZ(49,"mat-option",26),e._uU(50,"All"),e.qZA(),e.TgZ(51,"mat-option",27),e._uU(52,"Admin"),e.qZA(),e.TgZ(53,"mat-option",28),e._uU(54,"User"),e.qZA()()()()()(),e.TgZ(55,"table",29)(56,"thead",5)(57,"th",30),e._uU(58,"Name"),e.qZA(),e.TgZ(59,"th",30),e._uU(60,"Image"),e.qZA(),e.TgZ(61,"th",30),e._uU(62,"Email"),e.qZA(),e.TgZ(63,"th",30),e._uU(64,"Phone"),e.qZA(),e.TgZ(65,"th",30),e._uU(66,"Country"),e.qZA(),e.TgZ(67,"th",30),e._uU(68,"Role"),e.qZA(),e.TgZ(69,"th",30),e._uU(70,"Join Date"),e.qZA(),e.TgZ(71,"th",30),e._uU(72,"Actions"),e.qZA()(),e.TgZ(73,"tbody"),e.YNc(74,S,34,15,"tr",31),e.qZA()(),e.YNc(75,w,5,0,"div",32),e.TgZ(76,"mat-paginator",33,34),e.NdJ("page",function(r){return n.handlePageEvent(r)}),e.qZA()()()()),2&o&&(e.xp6(31),e.Q6J("ngModel",n.paramsKey),e.xp6(11),e.Q6J("ngModel",n.searchValue),e.xp6(1),e.Q6J("ngIf",n.searchValue),e.xp6(5),e.Q6J("ngModel",n.roleIds),e.xp6(26),e.Q6J("ngForOf",null==n.listData?null:n.listData.data),e.xp6(1),e.Q6J("ngIf",0==(null==n.listData?null:n.listData.length)),e.xp6(1),e.Q6J("length",null==n.listData?null:n.listData.totalNumberOfRecords)("pageSize",n.pageSize)("pageIndex",n.pageNumber)("pageSizeOptions",e.DdM(10,I)))},dependencies:[l.sg,l.O5,g.VK,g.OP,g.p6,y.Hw,b.RK,x.Nt,u.KE,u.hX,u.R9,m.Fj,m.JJ,m.On,M.NW,O.gD,q.ey,l.uU,P,D],styles:[".page-title[_ngcontent-%COMP%]{background-image:url(header-bg-svg.e7cd2c7a9e952177.svg);background-color:#009247;border-radius:15px;color:#fff}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-size:700}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#dfe0e0}.page-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.recipeImg[_ngcontent-%COMP%]{width:90px;height:90px}.menu-icons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#009247}.menu-icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f263e;font-size:14px}.mdc-text-field--outlined[_ngcontent-%COMP%]{--mdc-outlined-text-field-focus-outline-color: #009247 ;--mdc-outlined-text-field-hover-outline-color: #009247 ;transition:.3s ease-in-out}.mdc-text-field--outlined[_ngcontent-%COMP%]   .labelIn[_ngcontent-%COMP%]{color:#009247}"]})}return s})()}];let z=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(J),h.Bz]})}return s})(),R=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[l.ez,z,f.m]})}return s})()}}]);